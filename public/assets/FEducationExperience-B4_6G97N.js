import{d as e,a as l,g as a,w as t,c as o,F as s,j as u,u as d,e as n,f as r,E as i,s as p,o as c,b as m,l as f,h as v,k as g,p as V,n as h,J as y,q as b,t as _,B as j,G as U,D as k,y as w,x,I as Y}from"./index-BzOwImnj.js";/* empty css                   *//* empty css                  *//* empty css                  *//* empty css                    *//* empty css                       */import{R as C}from"./RichText-CBgchW2W.js";import{p as A}from"./plus-KX_tgj1W.js";import{f as E}from"./form-CL1OvqtE.js";const M={class:"split-row-module"},T={class:"split-1"},N=m("label",null,"学校名称",-1),z={class:"split-1"},F=m("label",null,"所学专业",-1),R={class:"split-1",style:{width:"330px"}},q=m("label",null,"就读时间",-1),B={class:"split-1"},D=m("label",null,"学历",-1),G={class:"split-1"},I={class:"split-1"},J=e({__name:"FEducationExperience",setup(e){let J=0;const $=l(!1),H=a("getEducation");function K(){for(const e of H.value)if(e.major||e.name||e.content){if(e.major.trim().length<=0)return void V({message:"请先填写完表单关键信息！",grouping:!0,type:"error"});if(e.name.trim().length<=0)return void V({message:"请先填写完表单关键信息！",grouping:!0,type:"error"});if(e.content.trim().length<=0)return void V({message:"请先填写完表单关键信息！",grouping:!0,type:"error"})}h.post("/education").then((e=>{200===e.data.code?(H.value.push(e.data.data),$.value=!0):V({message:e.data.message,grouping:!0,type:"error"})}))}function L(e,l){const a=l?e-1:e+1;y(H.value,e,a),$.value=!0;let t=[];for(let o=0;o<H.value.length;o++)$.value=!0,t.push(H.value[o].id);h.put("/education/sort",t).then((e=>{V({message:e.data.message,grouping:!0,type:"success"})}))}return t(H.value,(e=>{clearTimeout(J),$.value?$.value=!1:J=setTimeout((function(){p("/education",e),clearTimeout(J)}),1e3)})),(e,l)=>{const a=b,t=_,p=j,y=U,J=Y,O=k,P=w,Q=i,S=x;return c(),o("div",null,[(c(!0),o(s,null,u(d(H),((e,l)=>(c(),o("div",M,[n(Q,{class:"split-row-1"},{default:r((()=>[n(t,{span:5},{default:r((()=>[m("div",T,[N,n(a,{modelValue:e.name,"onUpdate:modelValue":l=>e.name=l,placeholder:"请输入学校名称",clearable:""},null,8,["modelValue","onUpdate:modelValue"])])])),_:2},1024),n(t,{span:4},{default:r((()=>[m("div",z,[F,n(a,{modelValue:e.major,"onUpdate:modelValue":l=>e.major=l,placeholder:"请输入专业名称",clearable:""},null,8,["modelValue","onUpdate:modelValue"])])])),_:2},1024),n(t,{span:6},{default:r((()=>[m("div",R,[q,n(p,{"value-format":"YYYY-MM",clearable:!1,modelValue:e.startAt,"onUpdate:modelValue":l=>e.startAt=l,style:{width:"120px"},type:"month",placeholder:"开始时间"},null,8,["modelValue","onUpdate:modelValue"]),f("- "),e.toNow?g("",!0):(c(),v(p,{key:0,"value-format":"YYYY-MM",clearable:!1,modelValue:e.endAt,"onUpdate:modelValue":l=>e.endAt=l,style:{width:"120px"},type:"month",placeholder:"结束时间"},null,8,["modelValue","onUpdate:modelValue"])),n(y,{modelValue:e.toNow,"onUpdate:modelValue":l=>e.toNow=l,label:"至今"},null,8,["modelValue","onUpdate:modelValue"])])])),_:2},1024),n(t,{span:4},{default:r((()=>[m("div",B,[D,n(O,{style:{width:"100px"},modelValue:e.degree,"onUpdate:modelValue":l=>e.degree=l,placeholder:"请选择学历"},{default:r((()=>[(c(!0),o(s,null,u(d(E).xueli,(e=>(c(),v(J,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])])])),_:2},1024),n(t,{span:2},{default:r((()=>[m("div",G,[n(P,{onClick:e=>L(l,!0),class:"el-c-button",type:"success",round:""},{default:r((()=>[f("上移")])),_:2},1032,["onClick"]),n(P,{onClick:e=>L(l,!1),class:"el-c-button",type:"success",round:""},{default:r((()=>[f("下移")])),_:2},1032,["onClick"]),n(P,{onClick:l=>{return a=e.id,void h.delete(`/education?id=${a}`).then((e=>{if(200===e.data.code)for(let l=0;l<H.value.length;l++)H.value[l].id===a&&($.value=!0,H.value.splice(l,1));else V({message:e.data.message,grouping:!0,type:"error"})}));var a},class:"el-c-button",type:"danger",round:""},{default:r((()=>[f("删除")])),_:2},1032,["onClick"])])])),_:2},1024)])),_:2},1024),n(Q,{class:"split-row-1"},{default:r((()=>[n(t,null,{default:r((()=>[m("div",I,[n(C,{modelValue:e.content,"onUpdate:modelValue":l=>e.content=l,placeholder:"所修课程、成绩排名、在校的职务、参赛获奖情况等有利于突出个人优势的信息。尽量简洁，突出重点。"},null,8,["modelValue","onUpdate:modelValue"])])])),_:2},1024),n(t,null,{default:r((()=>[n(S,{"border-style":"dashed",style:{"border-color":"#ffc69f"}})])),_:1})])),_:2},1024)])))),256)),n(Q,null,{default:r((()=>[n(t,null,{default:r((()=>[n(P,{onClick:K,type:"success",size:"large",icon:A,round:""},{default:r((()=>[f("新增一条教育经历")])),_:1})])),_:1})])),_:1})])}}});export{J as default};
