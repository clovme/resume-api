import{b as e,n as l,v as a,f as t,o,g as s,F as u,r as n,w as d,h as r,i,L as p,B as c,e as m,x as f,a8 as g,ac as v,A as V,E as h,a7 as y,y as _,m as k}from"./vendor-DMvgUH11.js";import{g as b,s as w,i as U,a as x}from"./index-B_EBnd4U.js";import{R as Y}from"./RichText-Cvg5FjJJ.js";import{p as C}from"./plus-C945BnAk.js";const j={class:"split-1"},A=i("label",null,"公司名称",-1),M={class:"split-1"},T=i("label",null,"职位",-1),N={class:"split-1"},E=i("label",null,"在职时间",-1),F={class:"split-1",style:{"justify-content":"flex-end"}},R={class:"split-1"},W=e({__name:"FWorkExperience",setup(e){let W=0;const z=l(!1),B=b("getWorks");function L(){for(const e of B.value)if(e.title||e.name||e.content){if(e.title.trim().length<=0)return void k({message:"请先填写完表单关键信息！",offset:55,grouping:!0,type:"error"});if(e.name.trim().length<=0)return void k({message:"请先填写完表单关键信息！",offset:55,grouping:!0,type:"error"});if(e.content.trim().length<=0)return void k({message:"请先填写完表单关键信息！",offset:55,grouping:!0,type:"error"})}U.post("/works").then((e=>{200===e.data.code?(B.value.push(e.data.data),z.value=!0):k({message:e.data.message,offset:55,grouping:!0,type:"error"})}))}function $(e,l){const a=l?e-1:e+1;x(B.value,e,a),z.value=!0;let t=[];for(let o=0;o<B.value.length;o++)z.value=!0,t.push(B.value[o].id);U.put("/works/sort",t).then((e=>{k({message:e.data.message,offset:55,grouping:!0,type:"success"})}))}return a(B.value,(e=>{clearTimeout(W),z.value?z.value=!1:W=setTimeout((function(){w("/works",e),clearTimeout(W)}),1e3)})),(e,l)=>{const a=p,b=r,w=g,x=v,W=V,q=h,D=y;return o(),t("div",null,[(o(!0),t(u,null,n(_(B),((e,l)=>(o(),t("div",{class:"split-row-module",key:l},[s(q,{class:"split-row-1"},{default:d((()=>[s(b,{span:6},{default:d((()=>[i("div",j,[A,s(a,{modelValue:e.name,"onUpdate:modelValue":l=>e.name=l,placeholder:"请输入公司名称",clearable:""},null,8,["modelValue","onUpdate:modelValue"])])])),_:2},1024),s(b,{span:5},{default:d((()=>[i("div",M,[T,s(a,{modelValue:e.title,"onUpdate:modelValue":l=>e.title=l,placeholder:"请输入职位名称",clearable:""},null,8,["modelValue","onUpdate:modelValue"])])])),_:2},1024),s(b,{span:8},{default:d((()=>[i("div",N,[E,s(w,{clearable:!1,modelValue:e.startAt,"onUpdate:modelValue":l=>e.startAt=l,style:{width:"130px"},type:"month",placeholder:"开始时间","value-format":"YYYY-MM"},null,8,["modelValue","onUpdate:modelValue"]),c(" - "),e.toNow?f("",!0):(o(),m(w,{key:0,clearable:!1,modelValue:e.endAt,"onUpdate:modelValue":l=>e.endAt=l,style:{width:"130px"},type:"month",placeholder:"结束时间","value-format":"YYYY-MM"},null,8,["modelValue","onUpdate:modelValue"])),s(x,{modelValue:e.toNow,"onUpdate:modelValue":l=>e.toNow=l,label:"至今"},null,8,["modelValue","onUpdate:modelValue"])])])),_:2},1024),s(b,{span:5},{default:d((()=>[i("div",F,[s(W,{onClick:e=>$(l,!0),class:"el-c-button",type:"success",round:""},{default:d((()=>[c("上移")])),_:2},1032,["onClick"]),s(W,{onClick:e=>$(l,!1),class:"el-c-button",type:"success",round:""},{default:d((()=>[c("下移")])),_:2},1032,["onClick"]),s(W,{onClick:l=>{return a=e.id,void U.delete(`/works?id=${a}`).then((e=>{if(200===e.data.code)for(let l=0;l<B.value.length;l++)B.value[l].id===a&&(z.value=!0,B.value.splice(l,1));else k({message:e.data.message,offset:55,grouping:!0,type:"error"})}));var a},class:"el-c-button",type:"danger",round:""},{default:d((()=>[c("删除")])),_:2},1032,["onClick"])])])),_:2},1024)])),_:2},1024),s(q,{class:"split-row-1"},{default:d((()=>[s(b,null,{default:d((()=>[i("div",R,[s(Y,{modelValue:e.content,"onUpdate:modelValue":l=>e.content=l,placeholder:"详细描述你的职责范围、工作任务及取得的成绩，描述尽量具体简洁，工作经验的描述尽量与目标岗位的招聘要求匹配。"},null,8,["modelValue","onUpdate:modelValue"])])])),_:2},1024),s(b,null,{default:d((()=>[s(D,{"border-style":"dashed",style:{"border-color":"#ffc69f"}})])),_:1})])),_:2},1024)])))),128)),s(q,null,{default:d((()=>[s(b,null,{default:d((()=>[s(W,{onClick:L,type:"success",size:"large",icon:C,round:""},{default:d((()=>[c("新增一条工作经历")])),_:1})])),_:1})])),_:1})])}}});export{W as default};
