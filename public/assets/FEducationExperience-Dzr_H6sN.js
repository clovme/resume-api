import{b as e,n as l,v as a,f as t,F as o,r as s,x as u,i as d,w as n,j as r,o as i,g as p,y as c,e as m,z as f,m as g,M as v,E as V,a8 as h,ab as y,aa as _,G as b,a7 as U}from"./vendor-CO9sYFt5.js";import{g as w,s as j,f as x,i as k,a as Y}from"./index-BmuxSv1O.js";import{R as C}from"./RichText-CFT9yWSX.js";import{p as M}from"./plus-CnM3zOg6.js";const A={class:"split-row-module"},E={class:"split-1"},T=p("label",null,"学校名称",-1),N={class:"split-1"},z=p("label",null,"所学专业",-1),F={class:"split-1",style:{width:"330px"}},R=p("label",null,"就读时间",-1),G={class:"split-1"},$=p("label",null,"学历",-1),q={class:"split-1"},B={class:"split-1"},D=e({__name:"FEducationExperience",setup(e){let D=0;const H=l(!1),I=w("getEducation");function J(){for(const e of I.value)if(e.major||e.name||e.content){if(e.major.trim().length<=0)return void g({message:"请先填写完表单关键信息！",offset:55,grouping:!0,type:"error"});if(e.name.trim().length<=0)return void g({message:"请先填写完表单关键信息！",offset:55,grouping:!0,type:"error"});if(e.content.trim().length<=0)return void g({message:"请先填写完表单关键信息！",offset:55,grouping:!0,type:"error"})}k.post("/education").then((e=>{200===e.data.code?(I.value.push(e.data.data),H.value=!0):g({message:e.data.message,offset:55,grouping:!0,type:"error"})}))}function K(e,l){const a=l?e-1:e+1;Y(I.value,e,a),H.value=!0;let t=[];for(let o=0;o<I.value.length;o++)H.value=!0,t.push(I.value[o].id);k.put("/education/sort",t).then((e=>{g({message:e.data.message,offset:55,grouping:!0,type:"success"})}))}return a(I.value,(e=>{clearTimeout(D),H.value?H.value=!1:D=setTimeout((function(){j("/education",e),clearTimeout(D)}),1e3)})),(e,l)=>{const a=v,w=V,j=h,Y=y,D=_,L=b,O=r,P=U;return i(),t("div",null,[(i(!0),t(o,null,s(u(I),((e,l)=>(i(),t("div",A,[d(O,{class:"split-row-1"},{default:n((()=>[d(w,{span:5},{default:n((()=>[p("div",E,[T,d(a,{modelValue:e.name,"onUpdate:modelValue":l=>e.name=l,placeholder:"请输入学校名称",clearable:""},null,8,["modelValue","onUpdate:modelValue"])])])),_:2},1024),d(w,{span:4},{default:n((()=>[p("div",N,[z,d(a,{modelValue:e.major,"onUpdate:modelValue":l=>e.major=l,placeholder:"请输入专业名称",clearable:""},null,8,["modelValue","onUpdate:modelValue"])])])),_:2},1024),d(w,{span:6},{default:n((()=>[p("div",F,[R,d(j,{"value-format":"YYYY-MM",clearable:!1,modelValue:e.startAt,"onUpdate:modelValue":l=>e.startAt=l,style:{width:"120px"},type:"month",placeholder:"开始时间"},null,8,["modelValue","onUpdate:modelValue"]),c("- "),e.toNow?f("",!0):(i(),m(j,{key:0,"value-format":"YYYY-MM",clearable:!1,modelValue:e.endAt,"onUpdate:modelValue":l=>e.endAt=l,style:{width:"120px"},type:"month",placeholder:"结束时间"},null,8,["modelValue","onUpdate:modelValue"])),d(Y,{modelValue:e.toNow,"onUpdate:modelValue":l=>e.toNow=l,label:"至今"},null,8,["modelValue","onUpdate:modelValue"])])])),_:2},1024),d(w,{span:4},{default:n((()=>[p("div",G,[$,d(D,{style:{width:"120px"},modelValue:e.degree,"onUpdate:modelValue":l=>e.degree=l,options:u(x).degree,placeholder:"请选择学历"},null,8,["modelValue","onUpdate:modelValue","options"])])])),_:2},1024),d(w,{span:2},{default:n((()=>[p("div",q,[d(L,{onClick:e=>K(l,!0),class:"el-c-button",type:"success",round:""},{default:n((()=>[c("上移")])),_:2},1032,["onClick"]),d(L,{onClick:e=>K(l,!1),class:"el-c-button",type:"success",round:""},{default:n((()=>[c("下移")])),_:2},1032,["onClick"]),d(L,{onClick:l=>{return a=e.id,void k.delete(`/education?id=${a}`).then((e=>{if(200===e.data.code)for(let l=0;l<I.value.length;l++)I.value[l].id===a&&(H.value=!0,I.value.splice(l,1));else g({message:e.data.message,offset:55,grouping:!0,type:"error"})}));var a},class:"el-c-button",type:"danger",round:""},{default:n((()=>[c("删除")])),_:2},1032,["onClick"])])])),_:2},1024)])),_:2},1024),d(O,{class:"split-row-1"},{default:n((()=>[d(w,null,{default:n((()=>[p("div",B,[d(C,{modelValue:e.content,"onUpdate:modelValue":l=>e.content=l,placeholder:"所修课程、成绩排名、在校的职务、参赛获奖情况等有利于突出个人优势的信息。尽量简洁，突出重点。"},null,8,["modelValue","onUpdate:modelValue"])])])),_:2},1024),d(w,null,{default:n((()=>[d(P,{"border-style":"dashed",style:{"border-color":"#ffc69f"}})])),_:1})])),_:2},1024)])))),256)),d(O,null,{default:n((()=>[d(w,null,{default:n((()=>[d(L,{onClick:J,type:"success",size:"large",icon:M,round:""},{default:n((()=>[c("新增一条教育经历")])),_:1})])),_:1})])),_:1})])}}});export{D as default};
