import{b as e,q as a,n as l,v as t,f as s,o,i as n,g as u,w as d,h as i,L as r,y as p,E as c,e as m,x as f,V as g,a6 as v,F as V,r as b,a7 as _,B as h,A as y,Z as x,m as U,p as w,k}from"./vendor-B0a-F9mp.js";import{g as T,s as j,i as C,_ as A}from"./index-B3poiCCH.js";import{p as I}from"./plus-hN-Gb6hj.js";const F=e=>(w("data-v-238ccf56"),e=e(),k(),e),q={class:"split-row-module"},B={class:"split-1"},E=F((()=>n("label",null,"报考院校",-1))),G={class:"split-1"},L=F((()=>n("label",null,"报考专业",-1))),Z={class:"split-1"},$={class:"baokao-table"},z={rowspan:"2"},D=["onUpdate:modelValue"],H=["onUpdate:modelValue"],J=F((()=>n("td",null,"删除",-1))),K=["onClick"],M=F((()=>n("b",null,"表格数据可任意编辑",-1))),N={class:"split-1"},O=A(e({__name:"FApplicationInformation",setup(e){const w=a({name:"",score:""});let k=0,A=0;const F=l(!1),O=l(!1),P=T("getApplicationInfo"),Q=T("getCourseGrade");function R(){!w.name||w.name.trim().length<=0?x({title:"提示信息",message:"专业课名称不能为空。",type:"warning"}):!w.score||w.score.trim().length<=0?x({title:"提示信息",message:"专业课成绩不能为空。",type:"warning"}):C.post("/applicationinfo/grade",w).then((e=>{200===e.data.code?(F.value=!0,O.value=!0,Q.value.push(e.data.data),w.name="",w.score=""):U({message:e.data.message,offset:55,grouping:!0,type:"error"})}))}return t(P.value,(e=>{clearTimeout(k),F.value&&(F.value=!1),k=setTimeout((function(){j("/applicationinfo",[e]),clearTimeout(k)}),1e3)})),t(Q.value,(e=>{clearTimeout(A),O.value&&(O.value=!1),A=setTimeout((function(){j("/applicationinfo/grade",e),clearTimeout(A)}),1e3)})),(e,a)=>{const l=r,t=i,x=c,k=_,T=y;return o(),s("div",null,[n("div",q,[u(x,{class:"split-row-1",style:{"margin-bottom":"15px"}},{default:d((()=>[u(t,{span:5},{default:d((()=>[n("div",B,[E,u(l,{modelValue:p(P).name,"onUpdate:modelValue":a[0]||(a[0]=e=>p(P).name=e),placeholder:"请输入报考院校",clearable:""},null,8,["modelValue"])])])),_:1}),u(t,{span:5},{default:d((()=>[n("div",G,[L,u(l,{modelValue:p(P).major,"onUpdate:modelValue":a[1]||(a[1]=e=>p(P).major=e),placeholder:"请输入专业名称",clearable:""},null,8,["modelValue"])])])),_:1}),u(t,{span:14})])),_:1}),u(x,{class:"split-row-1"},{default:d((()=>[p(Q).length>0?(o(),m(t,{key:0,style:{"margin-bottom":"15px"}},{default:d((()=>[n("div",Z,[u(x,null,{default:d((()=>[u(t,{span:24},{default:d((()=>[n("table",$,[n("tr",null,[n("td",z,[g(n("input",{type:"text","onUpdate:modelValue":a[2]||(a[2]=e=>p(P).cname=e)},null,512),[[v,p(P).cname]])]),(o(!0),s(V,null,b(p(Q),(e=>(o(),s("td",null,[g(n("input",{type:"text","onUpdate:modelValue":a=>e.name=a},null,8,D),[[v,e.name]])])))),256))]),n("tr",null,[(o(!0),s(V,null,b(p(Q),(e=>(o(),s("td",null,[g(n("input",{type:"text","onUpdate:modelValue":a=>e.score=a},null,8,H),[[v,e.score]])])))),256))]),n("tr",null,[J,(o(!0),s(V,null,b(p(Q),(e=>(o(),s("td",null,[n("i",{onClick:a=>{return l=e.id,void C.delete(`/applicationinfo/grade?id=${l}`).then((e=>{if(200===e.data.code)for(let a=0;a<Q.value.length;a++)Q.value[a].id===l&&(F.value=!0,O.value=!0,Q.value.splice(a,1));else U({message:e.data.message,offset:55,grouping:!0,type:"error"})}));var l},class:"icon-circle-with-minus"},null,8,K)])))),256))])])])),_:1})])),_:1})])])),_:1})):f("",!0),u(t,{style:{"margin-bottom":"15px"}},{default:d((()=>[u(k,{"border-style":"dashed",style:{"border-color":"#ffc69f"}},{default:d((()=>[M])),_:1})])),_:1}),u(t,{span:11},{default:d((()=>[n("div",N,[u(l,{modelValue:w.name,"onUpdate:modelValue":a[3]||(a[3]=e=>w.name=e),placeholder:"专业课名称，例如：英语",clearable:""},null,8,["modelValue"]),h(": "),u(l,{modelValue:w.score,"onUpdate:modelValue":a[4]||(a[4]=e=>w.score=e),placeholder:"专业课成绩，例如：80",clearable:""},null,8,["modelValue"]),u(T,{onClick:R,class:"el-c-button",icon:I,plain:""},{default:d((()=>[h("添加专业课成绩")])),_:1})])])),_:1})])),_:1})])])}}}),[["__scopeId","data-v-238ccf56"]]);export{O as default};
