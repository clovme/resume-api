import{d as e,a as l,g as a,w as t,c as s,F as o,j as n,u,e as d,f as r,E as i,s as p,o as c,b as m,l as f,h as g,k as v,p as h,n as V,J as y,q as b,t as _,B as U,H as k,y as w,x as j}from"./index-DgLzXXeY.js";/* empty css                   *//* empty css                    *//* empty css                       *//* empty css                     */import{R as x}from"./RichText-CEoOT6vx.js";import{p as Y}from"./plus-BBYjcoxm.js";const C={class:"split-row-module"},A={class:"split-1"},M=m("label",null,"公司名称",-1),T={class:"split-1"},N=m("label",null,"职位",-1),z={class:"split-1"},E=m("label",null,"实习时间",-1),F={class:"split-1",style:{"justify-content":"flex-end"}},I={class:"split-1"},R=e({__name:"FInternshipExperience",setup(e){let R=0;const q=l(!1),B=a("getInternship");function H(){for(const e of B.value)if(e.title||e.name||e.content){if(e.title.trim().length<=0)return void h({message:"请先填写完表单关键信息！",offset:55,grouping:!0,type:"error"});if(e.name.trim().length<=0)return void h({message:"请先填写完表单关键信息！",offset:55,grouping:!0,type:"error"});if(e.content.trim().length<=0)return void h({message:"请先填写完表单关键信息！",offset:55,grouping:!0,type:"error"})}V.post("/internship").then((e=>{200===e.data.code?(B.value.push(e.data.data),q.value=!0):h({message:e.data.message,offset:55,grouping:!0,type:"error"})}))}function J(e,l){const a=l?e-1:e+1;y(B.value,e,a),q.value=!0;let t=[];for(let s=0;s<B.value.length;s++)q.value=!0,t.push(B.value[s].id);V.put("/internship/sort",t).then((e=>{h({message:e.data.message,offset:55,grouping:!0,type:"success"})}))}return t(B.value,(e=>{clearTimeout(R),q.value?q.value=!1:R=setTimeout((function(){p("/internship",e),clearTimeout(R)}),1e3)})),(e,l)=>{const a=b,t=_,p=U,y=k,R=w,$=i,D=j;return c(),s("div",null,[(c(!0),s(o,null,n(u(B),((e,l)=>(c(),s("div",C,[d($,{class:"split-row-1"},{default:r((()=>[d(t,{span:5},{default:r((()=>[m("div",A,[M,d(a,{modelValue:e.name,"onUpdate:modelValue":l=>e.name=l,placeholder:"请输入公司名称",clearable:""},null,8,["modelValue","onUpdate:modelValue"])])])),_:2},1024),d(t,{span:4},{default:r((()=>[m("div",T,[N,d(a,{modelValue:e.title,"onUpdate:modelValue":l=>e.title=l,placeholder:"请输入职位名称",clearable:""},null,8,["modelValue","onUpdate:modelValue"])])])),_:2},1024),d(t,{span:8},{default:r((()=>[m("div",z,[E,d(p,{clearable:!1,"value-format":"YYYY-MM",modelValue:e.startAt,"onUpdate:modelValue":l=>e.startAt=l,style:{width:"130px"},type:"month",placeholder:"开始时间"},null,8,["modelValue","onUpdate:modelValue"]),f("- "),e.toNow?v("",!0):(c(),g(p,{key:0,clearable:!1,"value-format":"YYYY-MM",modelValue:e.endAt,"onUpdate:modelValue":l=>e.endAt=l,style:{width:"130px"},type:"month",placeholder:"结束时间"},null,8,["modelValue","onUpdate:modelValue"])),d(y,{modelValue:e.toNow,"onUpdate:modelValue":l=>e.toNow=l,label:"至今"},null,8,["modelValue","onUpdate:modelValue"])])])),_:2},1024),d(t,{span:7},{default:r((()=>[m("div",F,[d(R,{onClick:e=>J(l,!0),class:"el-c-button",type:"success",round:""},{default:r((()=>[f("上移")])),_:2},1032,["onClick"]),d(R,{onClick:e=>J(l,!1),class:"el-c-button",type:"success",round:""},{default:r((()=>[f("下移")])),_:2},1032,["onClick"]),d(R,{onClick:l=>{return a=e.id,void V.delete(`/internship?id=${a}`).then((e=>{if(200===e.data.code)for(let l=0;l<B.value.length;l++)B.value[l].id===a&&(q.value=!0,B.value.splice(l,1));else h({message:e.data.message,offset:55,grouping:!0,type:"error"})}));var a},class:"el-c-button",type:"danger",round:""},{default:r((()=>[f("删除")])),_:2},1032,["onClick"])])])),_:2},1024)])),_:2},1024),d($,{class:"split-row-1"},{default:r((()=>[d(t,null,{default:r((()=>[m("div",I,[d(x,{modelValue:e.content,"onUpdate:modelValue":l=>e.content=l,placeholder:"请输入项目内容、成果和感悟，简洁突出重点。"},null,8,["modelValue","onUpdate:modelValue"])])])),_:2},1024),d(t,null,{default:r((()=>[d(D,{"border-style":"dashed",style:{"border-color":"#ffc69f"}})])),_:1})])),_:2},1024)])))),256)),d($,null,{default:r((()=>[d(t,null,{default:r((()=>[d(R,{onClick:H,type:"success",size:"large",icon:Y,round:""},{default:r((()=>[f("新增一条实习经历")])),_:1})])),_:1})])),_:1})])}}});export{R as default};
