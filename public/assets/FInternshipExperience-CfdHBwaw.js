import{b as e,n as l,v as a,f as t,o as s,g as o,F as n,r as u,w as d,h as r,i,L as p,B as c,e as m,x as f,a8 as g,ac as v,A as h,E as V,a7 as y,y as _,m as b}from"./vendor-DMvgUH11.js";import{g as U,s as w,i as k,a as x}from"./index-B_EBnd4U.js";import{R as Y}from"./RichText-Cvg5FjJJ.js";import{p as C}from"./plus-C945BnAk.js";const j={class:"split-row-module"},A={class:"split-1"},M=i("label",null,"公司名称",-1),T={class:"split-1"},N=i("label",null,"职位",-1),E={class:"split-1"},F=i("label",null,"实习时间",-1),I={class:"split-1",style:{"justify-content":"flex-end"}},R={class:"split-1"},z=e({__name:"FInternshipExperience",setup(e){let z=0;const B=l(!1),L=U("getInternship");function $(){for(const e of L.value)if(e.title||e.name||e.content){if(e.title.trim().length<=0)return void b({message:"请先填写完表单关键信息！",offset:55,grouping:!0,type:"error"});if(e.name.trim().length<=0)return void b({message:"请先填写完表单关键信息！",offset:55,grouping:!0,type:"error"});if(e.content.trim().length<=0)return void b({message:"请先填写完表单关键信息！",offset:55,grouping:!0,type:"error"})}k.post("/internship").then((e=>{200===e.data.code?(L.value.push(e.data.data),B.value=!0):b({message:e.data.message,offset:55,grouping:!0,type:"error"})}))}function q(e,l){const a=l?e-1:e+1;x(L.value,e,a),B.value=!0;let t=[];for(let s=0;s<L.value.length;s++)B.value=!0,t.push(L.value[s].id);k.put("/internship/sort",t).then((e=>{b({message:e.data.message,offset:55,grouping:!0,type:"success"})}))}return a(L.value,(e=>{clearTimeout(z),B.value?B.value=!1:z=setTimeout((function(){w("/internship",e),clearTimeout(z)}),1e3)})),(e,l)=>{const a=p,U=r,w=g,x=v,z=h,D=V,G=y;return s(),t("div",null,[(s(!0),t(n,null,u(_(L),((e,l)=>(s(),t("div",j,[o(D,{class:"split-row-1"},{default:d((()=>[o(U,{span:5},{default:d((()=>[i("div",A,[M,o(a,{modelValue:e.name,"onUpdate:modelValue":l=>e.name=l,placeholder:"请输入公司名称",clearable:""},null,8,["modelValue","onUpdate:modelValue"])])])),_:2},1024),o(U,{span:4},{default:d((()=>[i("div",T,[N,o(a,{modelValue:e.title,"onUpdate:modelValue":l=>e.title=l,placeholder:"请输入职位名称",clearable:""},null,8,["modelValue","onUpdate:modelValue"])])])),_:2},1024),o(U,{span:8},{default:d((()=>[i("div",E,[F,o(w,{clearable:!1,"value-format":"YYYY-MM",modelValue:e.startAt,"onUpdate:modelValue":l=>e.startAt=l,style:{width:"130px"},type:"month",placeholder:"开始时间"},null,8,["modelValue","onUpdate:modelValue"]),c("- "),e.toNow?f("",!0):(s(),m(w,{key:0,clearable:!1,"value-format":"YYYY-MM",modelValue:e.endAt,"onUpdate:modelValue":l=>e.endAt=l,style:{width:"130px"},type:"month",placeholder:"结束时间"},null,8,["modelValue","onUpdate:modelValue"])),o(x,{modelValue:e.toNow,"onUpdate:modelValue":l=>e.toNow=l,label:"至今"},null,8,["modelValue","onUpdate:modelValue"])])])),_:2},1024),o(U,{span:7},{default:d((()=>[i("div",I,[o(z,{onClick:e=>q(l,!0),class:"el-c-button",type:"success",round:""},{default:d((()=>[c("上移")])),_:2},1032,["onClick"]),o(z,{onClick:e=>q(l,!1),class:"el-c-button",type:"success",round:""},{default:d((()=>[c("下移")])),_:2},1032,["onClick"]),o(z,{onClick:l=>{return a=e.id,void k.delete(`/internship?id=${a}`).then((e=>{if(200===e.data.code)for(let l=0;l<L.value.length;l++)L.value[l].id===a&&(B.value=!0,L.value.splice(l,1));else b({message:e.data.message,offset:55,grouping:!0,type:"error"})}));var a},class:"el-c-button",type:"danger",round:""},{default:d((()=>[c("删除")])),_:2},1032,["onClick"])])])),_:2},1024)])),_:2},1024),o(D,{class:"split-row-1"},{default:d((()=>[o(U,null,{default:d((()=>[i("div",R,[o(Y,{modelValue:e.content,"onUpdate:modelValue":l=>e.content=l,placeholder:"请输入项目内容、成果和感悟，简洁突出重点。"},null,8,["modelValue","onUpdate:modelValue"])])])),_:2},1024),o(U,null,{default:d((()=>[o(G,{"border-style":"dashed",style:{"border-color":"#ffc69f"}})])),_:1})])),_:2},1024)])))),256)),o(D,null,{default:d((()=>[o(U,null,{default:d((()=>[o(z,{onClick:$,type:"success",size:"large",icon:C,round:""},{default:d((()=>[c("新增一条实习经历")])),_:1})])),_:1})])),_:1})])}}});export{z as default};
