import{d as e,a as l,g as a,w as t,c as s,F as o,j as u,u as d,e as n,f as r,E as p,s as i,o as c,b as m,l as f,h as g,k as v,p as V,n as h,K as y,q as b,t as _,B as U,H as k,y as w,x}from"./index-CXQ-BXo9.js";/* empty css                   *//* empty css                    *//* empty css                       *//* empty css                     */import{R as j}from"./RichText-B_AA1Rrk.js";import{p as C}from"./plus-QJit_dXA.js";const A={class:"split-row-module"},T={class:"split-1"},N=m("label",null,"经历名称",-1),E={class:"split-1"},F=m("label",null,"角色",-1),R={class:"split-1"},q=m("label",null,"时间",-1),z={class:"split-1",style:{"justify-content":"flex-end"}},B={class:"split-1"},H=e({__name:"FCampusExperience",setup(e){let H=0;const K=l(!1),$=a("getCampus");function D(){for(const e of $.value)if(e.title||e.name||e.content){if(e.title.trim().length<=0)return void V({message:"请先填写完表单关键信息！",grouping:!0,type:"error"});if(e.name.trim().length<=0)return void V({message:"请先填写完表单关键信息！",grouping:!0,type:"error"});if(e.content.trim().length<=0)return void V({message:"请先填写完表单关键信息！",grouping:!0,type:"error"})}h.post("/campus").then((e=>{200===e.data.code?($.value.push(e.data.data),K.value=!0):V({message:e.data.message,grouping:!0,type:"error"})}))}function G(e,l){const a=l?e-1:e+1;y($.value,e,a),K.value=!0;let t=[];for(let s=0;s<$.value.length;s++)K.value=!0,t.push($.value[s].id);h.put("/campus/sort",t).then((e=>{V({message:e.data.message,grouping:!0,type:"success"})}))}return t($.value,(e=>{clearTimeout(H),K.value?K.value=!1:H=setTimeout((function(){i("/campus",e),clearTimeout(H)}),1e3)})),(e,l)=>{const a=b,t=_,i=U,y=k,H=w,I=p,J=x;return c(),s("div",null,[(c(!0),s(o,null,u(d($),((e,l)=>(c(),s("div",A,[n(I,{class:"split-row-1"},{default:r((()=>[n(t,{span:5},{default:r((()=>[m("div",T,[N,n(a,{modelValue:e.name,"onUpdate:modelValue":l=>e.name=l,placeholder:"请输入项目名称",clearable:""},null,8,["modelValue","onUpdate:modelValue"])])])),_:2},1024),n(t,{span:4},{default:r((()=>[m("div",E,[F,n(a,{modelValue:e.title,"onUpdate:modelValue":l=>e.title=l,placeholder:"请输入角色名称",clearable:""},null,8,["modelValue","onUpdate:modelValue"])])])),_:2},1024),n(t,{span:8},{default:r((()=>[m("div",R,[q,n(i,{clearable:!1,modelValue:e.startAt,"onUpdate:modelValue":l=>e.startAt=l,style:{width:"130px"},type:"month",placeholder:"开始时间"},null,8,["modelValue","onUpdate:modelValue"]),f("- "),e.toNow?v("",!0):(c(),g(i,{key:0,clearable:!1,modelValue:e.endAt,"onUpdate:modelValue":l=>e.endAt=l,style:{width:"130px"},type:"month",placeholder:"结束时间"},null,8,["modelValue","onUpdate:modelValue"])),n(y,{modelValue:e.toNow,"onUpdate:modelValue":l=>e.toNow=l,label:"至今"},null,8,["modelValue","onUpdate:modelValue"])])])),_:2},1024),n(t,{span:7},{default:r((()=>[m("div",z,[n(H,{onClick:e=>G(l,!0),class:"el-c-button",type:"success",round:""},{default:r((()=>[f("上移")])),_:2},1032,["onClick"]),n(H,{onClick:e=>G(l,!1),class:"el-c-button",type:"success",round:""},{default:r((()=>[f("下移")])),_:2},1032,["onClick"]),n(H,{onClick:l=>{return a=e.id,void h.delete(`/campus?id=${a}`).then((e=>{if(200===e.data.code)for(let l=0;l<$.value.length;l++)$.value[l].id===a&&(K.value=!0,$.value.splice(l,1));else V({message:e.data.message,grouping:!0,type:"error"})}));var a},class:"el-c-button",type:"danger",round:""},{default:r((()=>[f("删除")])),_:2},1032,["onClick"])])])),_:2},1024)])),_:2},1024),n(I,{class:"split-row-1"},{default:r((()=>[n(t,null,{default:r((()=>[m("div",B,[n(j,{modelValue:e.content,"onUpdate:modelValue":l=>e.content=l,placeholder:"描述校园经历的具体行动，内容，成果。"},null,8,["modelValue","onUpdate:modelValue"])])])),_:2},1024),n(t,null,{default:r((()=>[n(J,{"border-style":"dashed",style:{"border-color":"#ffc69f"}})])),_:1})])),_:2},1024)])))),256)),n(I,null,{default:r((()=>[n(t,null,{default:r((()=>[n(H,{onClick:D,type:"success",size:"large",icon:C,round:""},{default:r((()=>[f("新增一条校园经历")])),_:1})])),_:1})])),_:1})])}}});export{H as default};
