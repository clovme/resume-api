import{b as e,n as a,v as s,f as l,o as t,g as o,e as c,x as n,w as u,h as d,i,y as r,F as m,r as p,L as f,ad as k,A as h,B as v,E as g,t as T,Z as _}from"./vendor-B0a-F9mp.js";import{g as C,s as V,_ as b}from"./index-B3poiCCH.js";import{R as j}from"./RichText-o6EVTY-3.js";import{C as y}from"./CheckButton-LUd1620o.js";import{p as x}from"./plus-hN-Gb6hj.js";const w={class:"split-2"},O={class:"split-2"},U={class:"split-2"},H={class:"f-honorsc-ertificates-box split-2"},B=["onClick"],F=b(e({__name:"FHonorsCertificates",setup(e){let b=0;const F=a(""),R=C("getHonorsTags"),A=C("getHonors");function E(){F.value&&""!==F.value.trim()?(A.value.checkedTags[F.value]=!0,F.value=""):_({title:"提示信息",message:"荣誉证书名称不能为空。",type:"warning"})}return s(R.value,(e=>{for(const a of e){a.isChecked&&(A.value.checkedTags[a.name]=!0);for(const e of Object.keys(A.value.checkedTags))e!==a.name||a.isChecked||delete A.value.checkedTags[e]}})),s(A.value,(e=>{clearTimeout(b),b=setTimeout((function(){V("/honors",[{...e,tagsName:Object.keys(A.value.checkedTags)}]),clearTimeout(b)}),1e3)})),(e,a)=>{const s=d,_=f,C=h,V=g;return t(),l("div",null,[o(V,{class:"split-row-2"},{default:u((()=>[o(s,{span:24},{default:u((()=>[i("div",w,[o(j,{placeholder:"荣誉证书内容描述，非必填。",modelValue:r(A).content,"onUpdate:modelValue":a[0]||(a[0]=e=>r(A).content=e)},null,8,["modelValue"])])])),_:1}),o(s,{span:24},{default:u((()=>[i("div",O,[(t(!0),l(m,null,p(r(R),(e=>(t(),c(y,{class:"el-c-button",modelValue:e.isChecked,"onUpdate:modelValue":a=>e.isChecked=a,title:e.name,key:e.id},null,8,["modelValue","onUpdate:modelValue","title"])))),128))])])),_:1}),o(s,{span:8},{default:u((()=>[i("div",U,[o(_,{modelValue:F.value,"onUpdate:modelValue":a[1]||(a[1]=e=>F.value=e),onKeyup:k(E,["enter"]),placeholder:"请输入荣誉证书名称",clearable:""},null,8,["modelValue"]),o(C,{class:"el-c-button",icon:x,plain:"",onClick:E},{default:u((()=>[v("添加自定义荣誉证书")])),_:1})])])),_:1})])),_:1}),r(A).checkedTags&&Object.keys(r(A).checkedTags).length>0?(t(),c(V,{key:0},{default:u((()=>[o(s,{span:24},{default:u((()=>[i("ul",H,[(t(!0),l(m,null,p(Object.keys(r(A).checkedTags),(e=>(t(),l("li",null,[v(T(e)+" ",1),i("i",{class:"icon-circle-with-minus",onClick:a=>function(e){for(const a of R.value)a.name==e&&(a.isChecked=!1);delete A.value.checkedTags[e]}(e)},null,8,B)])))),256))])])),_:1})])),_:1})):n("",!0)])}}}),[["__scopeId","data-v-f287da6d"]]);export{F as default};
