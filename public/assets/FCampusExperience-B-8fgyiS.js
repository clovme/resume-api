import{d as e,a as l,g as a,w as t,c as s,F as o,j as u,u as d,e as n,f as r,E as p,s as i,o as c,b as m,l as f,h as g,k as v,p as V,n as h,N as y,q as b,t as _,B as U,L as k,y as w,x as j}from"./index-DBIdrAkX.js";/* empty css                   *//* empty css                    *//* empty css                       *//* empty css                     */import{R as x}from"./RichText-C0w3Ckr7.js";import{p as C}from"./plus-BdqSB374.js";const A={class:"split-row-module"},N={class:"split-1"},T=m("label",null,"经历名称",-1),z={class:"split-1"},E=m("label",null,"角色",-1),F={class:"split-1"},R=m("label",null,"时间",-1),q={class:"split-1",style:{"justify-content":"flex-end"}},B={class:"split-1"},L=e({__name:"FCampusExperience",setup(e){let L=0;const $=l(!1),D=a("getCampus");function G(){for(const e of D.value)if(e.title||e.name||e.content){if(e.title.trim().length<=0)return void V({message:"请先填写完表单关键信息！",offset:55,grouping:!0,type:"error"});if(e.name.trim().length<=0)return void V({message:"请先填写完表单关键信息！",offset:55,grouping:!0,type:"error"});if(e.content.trim().length<=0)return void V({message:"请先填写完表单关键信息！",offset:55,grouping:!0,type:"error"})}h.post("/campus").then((e=>{200===e.data.code?(D.value.push(e.data.data),$.value=!0):V({message:e.data.message,offset:55,grouping:!0,type:"error"})}))}function H(e,l){const a=l?e-1:e+1;y(D.value,e,a),$.value=!0;let t=[];for(let s=0;s<D.value.length;s++)$.value=!0,t.push(D.value[s].id);h.put("/campus/sort",t).then((e=>{V({message:e.data.message,offset:55,grouping:!0,type:"success"})}))}return t(D.value,(e=>{clearTimeout(L),$.value?$.value=!1:L=setTimeout((function(){i("/campus",e),clearTimeout(L)}),1e3)})),(e,l)=>{const a=b,t=_,i=U,y=k,L=w,I=p,J=j;return c(),s("div",null,[(c(!0),s(o,null,u(d(D),((e,l)=>(c(),s("div",A,[n(I,{class:"split-row-1"},{default:r((()=>[n(t,{span:5},{default:r((()=>[m("div",N,[T,n(a,{modelValue:e.name,"onUpdate:modelValue":l=>e.name=l,placeholder:"请输入项目名称",clearable:""},null,8,["modelValue","onUpdate:modelValue"])])])),_:2},1024),n(t,{span:4},{default:r((()=>[m("div",z,[E,n(a,{modelValue:e.title,"onUpdate:modelValue":l=>e.title=l,placeholder:"请输入角色名称",clearable:""},null,8,["modelValue","onUpdate:modelValue"])])])),_:2},1024),n(t,{span:8},{default:r((()=>[m("div",F,[R,n(i,{clearable:!1,modelValue:e.startAt,"onUpdate:modelValue":l=>e.startAt=l,style:{width:"130px"},type:"month",placeholder:"开始时间"},null,8,["modelValue","onUpdate:modelValue"]),f("- "),e.toNow?v("",!0):(c(),g(i,{key:0,clearable:!1,modelValue:e.endAt,"onUpdate:modelValue":l=>e.endAt=l,style:{width:"130px"},type:"month",placeholder:"结束时间"},null,8,["modelValue","onUpdate:modelValue"])),n(y,{modelValue:e.toNow,"onUpdate:modelValue":l=>e.toNow=l,label:"至今"},null,8,["modelValue","onUpdate:modelValue"])])])),_:2},1024),n(t,{span:7},{default:r((()=>[m("div",q,[n(L,{onClick:e=>H(l,!0),class:"el-c-button",type:"success",round:""},{default:r((()=>[f("上移")])),_:2},1032,["onClick"]),n(L,{onClick:e=>H(l,!1),class:"el-c-button",type:"success",round:""},{default:r((()=>[f("下移")])),_:2},1032,["onClick"]),n(L,{onClick:l=>{return a=e.id,void h.delete(`/campus?id=${a}`).then((e=>{if(200===e.data.code)for(let l=0;l<D.value.length;l++)D.value[l].id===a&&($.value=!0,D.value.splice(l,1));else V({message:e.data.message,offset:55,grouping:!0,type:"error"})}));var a},class:"el-c-button",type:"danger",round:""},{default:r((()=>[f("删除")])),_:2},1032,["onClick"])])])),_:2},1024)])),_:2},1024),n(I,{class:"split-row-1"},{default:r((()=>[n(t,null,{default:r((()=>[m("div",B,[n(x,{modelValue:e.content,"onUpdate:modelValue":l=>e.content=l,placeholder:"描述校园经历的具体行动，内容，成果。"},null,8,["modelValue","onUpdate:modelValue"])])])),_:2},1024),n(t,null,{default:r((()=>[n(J,{"border-style":"dashed",style:{"border-color":"#ffc69f"}})])),_:1})])),_:2},1024)])))),256)),n(I,null,{default:r((()=>[n(t,null,{default:r((()=>[n(L,{onClick:G,type:"success",size:"large",icon:C,round:""},{default:r((()=>[f("新增一条校园经历")])),_:1})])),_:1})])),_:1})])}}});export{L as default};
