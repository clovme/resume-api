import{d as e,a as l,g as a,w as t,c as o,F as s,j as u,u as d,e as n,f as r,E as i,s as p,o as c,b as m,l as f,h as g,k as v,p as V,n as h,N as y,q as k,t as b,B as _,L as w,y as U,x as j}from"./index-DBIdrAkX.js";/* empty css                   *//* empty css                    *//* empty css                       *//* empty css                     */import{R as x}from"./RichText-C0w3Ckr7.js";import{p as Y}from"./plus-BdqSB374.js";const C={class:"split-row-module"},A={class:"split-1"},M=m("label",null,"公司名称",-1),N={class:"split-1"},T=m("label",null,"职位",-1),z={class:"split-1"},E=m("label",null,"在职时间",-1),F={class:"split-1",style:{"justify-content":"flex-end"}},R={class:"split-1"},W=e({__name:"FWorkExperience",setup(e){let W=0;const q=l(!1),B=a("getWorks");function L(){for(const e of B.value)if(e.title||e.name||e.content){if(e.title.trim().length<=0)return void V({message:"请先填写完表单关键信息！",offset:55,grouping:!0,type:"error"});if(e.name.trim().length<=0)return void V({message:"请先填写完表单关键信息！",offset:55,grouping:!0,type:"error"});if(e.content.trim().length<=0)return void V({message:"请先填写完表单关键信息！",offset:55,grouping:!0,type:"error"})}h.post("/works").then((e=>{200===e.data.code?(B.value.push(e.data.data),q.value=!0):V({message:e.data.message,offset:55,grouping:!0,type:"error"})}))}function $(e,l){const a=l?e-1:e+1;y(B.value,e,a),q.value=!0;let t=[];for(let o=0;o<B.value.length;o++)q.value=!0,t.push(B.value[o].id);h.put("/works/sort",t).then((e=>{V({message:e.data.message,offset:55,grouping:!0,type:"success"})}))}return t(B.value,(e=>{clearTimeout(W),q.value?q.value=!1:W=setTimeout((function(){p("/works",e),clearTimeout(W)}),1e3)})),(e,l)=>{const a=k,t=b,p=_,y=w,W=U,D=i,G=j;return c(),o("div",null,[(c(!0),o(s,null,u(d(B),((e,l)=>(c(),o("div",C,[n(D,{class:"split-row-1"},{default:r((()=>[n(t,{span:6},{default:r((()=>[m("div",A,[M,n(a,{modelValue:e.name,"onUpdate:modelValue":l=>e.name=l,placeholder:"请输入公司名称",clearable:""},null,8,["modelValue","onUpdate:modelValue"])])])),_:2},1024),n(t,{span:5},{default:r((()=>[m("div",N,[T,n(a,{modelValue:e.title,"onUpdate:modelValue":l=>e.title=l,placeholder:"请输入职位名称",clearable:""},null,8,["modelValue","onUpdate:modelValue"])])])),_:2},1024),n(t,{span:8},{default:r((()=>[m("div",z,[E,n(p,{clearable:!1,modelValue:e.startAt,"onUpdate:modelValue":l=>e.startAt=l,style:{width:"130px"},type:"month",placeholder:"开始时间","value-format":"YYYY-MM"},null,8,["modelValue","onUpdate:modelValue"]),f(" - "),e.toNow?v("",!0):(c(),g(p,{key:0,clearable:!1,modelValue:e.endAt,"onUpdate:modelValue":l=>e.endAt=l,style:{width:"130px"},type:"month",placeholder:"结束时间","value-format":"YYYY-MM"},null,8,["modelValue","onUpdate:modelValue"])),n(y,{modelValue:e.toNow,"onUpdate:modelValue":l=>e.toNow=l,label:"至今"},null,8,["modelValue","onUpdate:modelValue"])])])),_:2},1024),n(t,{span:5},{default:r((()=>[m("div",F,[n(W,{onClick:e=>$(l,!0),class:"el-c-button",type:"success",round:""},{default:r((()=>[f("上移")])),_:2},1032,["onClick"]),n(W,{onClick:e=>$(l,!1),class:"el-c-button",type:"success",round:""},{default:r((()=>[f("下移")])),_:2},1032,["onClick"]),n(W,{onClick:l=>{return a=e.id,void h.delete(`/works?id=${a}`).then((e=>{if(200===e.data.code)for(let l=0;l<B.value.length;l++)B.value[l].id===a&&(q.value=!0,B.value.splice(l,1));else V({message:e.data.message,offset:55,grouping:!0,type:"error"})}));var a},class:"el-c-button",type:"danger",round:""},{default:r((()=>[f("删除")])),_:2},1032,["onClick"])])])),_:2},1024)])),_:2},1024),n(D,{class:"split-row-1"},{default:r((()=>[n(t,null,{default:r((()=>[m("div",R,[n(x,{modelValue:e.content,"onUpdate:modelValue":l=>e.content=l,placeholder:"详细描述你的职责范围、工作任务及取得的成绩，描述尽量具体简洁，工作经验的描述尽量与目标岗位的招聘要求匹配。"},null,8,["modelValue","onUpdate:modelValue"])])])),_:2},1024),n(t,null,{default:r((()=>[n(G,{"border-style":"dashed",style:{"border-color":"#ffc69f"}})])),_:1})])),_:2},1024)])))),256)),n(D,null,{default:r((()=>[n(t,null,{default:r((()=>[n(W,{onClick:L,type:"success",size:"large",icon:Y,round:""},{default:r((()=>[f("新增一条工作经历")])),_:1})])),_:1})])),_:1})])}}});export{W as default};
